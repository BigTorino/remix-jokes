import{a as h}from"/build/_shared/chunk-MOUEHOXF.js";import"/build/_shared/chunk-HL7OVJR6.js";import{a as w}from"/build/_shared/chunk-EYYFEV5H.js";import{a as x}from"/build/_shared/chunk-NZCB3PMS.js";import{a as g,b,f as v,h as y,i as k}from"/build/_shared/chunk-KB55DNS7.js";import"/build/_shared/chunk-JKO55VJE.js";import{b as p,e as r,f as o}from"/build/_shared/chunk-AKSB5QXU.js";o();o();var N=p(x()),E=p(w());function B(e){if(e.length<10)return"That joke is too short"}function F(e){if(e.length<2)return"That joke's name is too short"}function j(){var s,d,u,a,l,m,f,c;let e=y(),n=k();if(n.submission){let t=n.submission.formData.get("name"),i=n.submission.formData.get("content");if(typeof t=="string"&&typeof i=="string"&&!B(i)&&!F(t))return r.createElement(h,{joke:{name:t,content:i},isOwner:!0,canDelete:!1})}return r.createElement("div",null,r.createElement("p",null,"Add your own hilarious joke"),r.createElement(v,{method:"post"},r.createElement("div",null,r.createElement("label",null,"Name:"," ",r.createElement("input",{type:"text",defaultValue:(s=e==null?void 0:e.fields)==null?void 0:s.name,name:"name","aria-invalid":Boolean((d=e==null?void 0:e.fieldErrors)==null?void 0:d.name)||void 0,"aria-describedby":((u=e==null?void 0:e.fieldErrors)==null?void 0:u.name)?"name-error":void 0})),((a=e==null?void 0:e.fieldErrors)==null?void 0:a.name)?r.createElement("p",{className:"form-validation-error",role:"alert",id:"name-error"},e.fieldErrors.name):null),r.createElement("div",null,r.createElement("label",null,"Content:"," ",r.createElement("textarea",{defaultValue:(l=e==null?void 0:e.fields)==null?void 0:l.content,name:"content","aria-invalid":Boolean((m=e==null?void 0:e.fieldErrors)==null?void 0:m.content)||void 0,"aria-describedby":((f=e==null?void 0:e.fieldErrors)==null?void 0:f.content)?"content-error":void 0})),((c=e==null?void 0:e.fieldErrors)==null?void 0:c.content)?r.createElement("p",{className:"form-validation-error",role:"alert",id:"content-error"},e.fieldErrors.content):null),r.createElement("div",null,r.createElement("button",{type:"submit",className:"button"},"Add"))))}function C(){if(g().status===401)return r.createElement("div",{className:"error-container"},r.createElement("p",null,"You must be logged in to create a joke."),r.createElement(b,{to:"/login"},"Login"))}function I({error:e}){return console.error(e),r.createElement("div",{className:"error-container"},"Something unexpected went wrong. Sorry about that.")}export{C as CatchBoundary,I as ErrorBoundary,j as default};
